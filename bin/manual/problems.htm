<HTML>
<HEAD>
<TITLE>EOF Manual - Common Problems</TITLE>
<STYLE TYPE="text/css">
p {text-indent: 1cm}
</STYLE>
</head></STYLE>
</HEAD>
<BODY BGCOLOR="313131" TEXT="FFFFFF" LINK="FFFFFF" VLINK="FFFFFF" ALINK="FFFFFF" >

<center><IMG SRC="logo.png" ALT="Logo" BORDER=0 HSPACE=0 VSPACE=3><bR><br></center>
<center>A song editor for "Frets On Fire"</center><br>

<h1><a name="tutorial">Common Problems</a></h1>

<b>Problem:</b><br>
EOF doesn't work on Mac.  Opening EOF from the command line gives an error like "Warning once: This application, or a library it uses, is using NSQuickDrawView, which has been deprecated. Apps should cease use of QuickDraw and move to Quartz."<br>
<b>Solution:</b><br>
Around the release of Mac OS X High Sierra, the OS deprecated certain features that broke compatibility with Allegro 4 (the game library that EOF is built with).  There's no simple fix for this as EOF eventually has to be ported to Allegro 5, which is significantly different.  If you have the ability to keep a pre High Sierra version of Mac OS to use, that's the most reliable option.<br><br>

<b>Problem:</b><br>
The mouse doesn't appear very responsive, especially to small movements.  Changing the "Use Software Cursor" in File>Display doesn't lead to any improvement.<br>
<b>Solution:</b></br>
Some higher end mice (one example being the Logitech G500) may have problems working well with Allegro depending on their settings.  For example, it's been reported that with the Logitech G500, using the mouse's management utility to lower the polling rate helped.  If making setting changes to the mouse doesn't resolve the problem, it may ultimately be easiest to just try connecting and using an additional cheap mouse.<br><br>

<b>Problem:</b><br>
EOF doesn't play any sound, and it doesn't give any errors about this when starting up.<br>
<b>Solution:</b><br>
There are some sound driver settings that might not work with Allegro (the game design library EOF uses).  One known issue is if your sound card uses a feature to emulate EAX hardware (ie. this is called "GX Mode" in Xonar branded sound cards), the sound may not work in EOF.  The fix for this is to disable the sound driver's EAX emulation feature.  Kudos to fatdog for this fix.<br><br>

<b>Problem:</b><br>
I placed some notes in my song and when I try to play the song in FOF the notes are out of sync.<br>
<b>Solution:</b><br>
Make sure you have set up the AV delay properly. To do so, open the “AV Delay” song and start the song (press Space). If the on-screen notes light up before the sound plays you need to adjust the AV delay down (press minus [-]). If the on-screen notes light up after the sound plays you need to adjust the AV delay up (press plus/equal [+/=]). You can adjust while the song is playing also.  Also ensure that you have configured your AV delay in "Frets On Fire" properly. To test your AV delay, try playing a song which is reported/accepted as perfectly synced and see if the notes are synced to the audio. If they are not, adjust the AV delay setting and test the song again. Repeat until you find the correct AV delay setting.<br><br>

<b>Problem:</b><br>
I get stuttering or cracking during music playback.<br>
<b>Solution:</b><br>
Try adjusting the buffer size. Go to “File->Settings” in the menu. The default value is 4096. Try doubling the value and see if the problem persists. If it is better but not completely fixed, increase the size some more. Note: when adjusting the buffer size, the AV delay will have to be set up again.<br><br>

<b>Problem:</b><br>
When I play the song back the position marker moves faster initially before slowing to normal speed.<br>
<b>Solution:</b><br>
There is no way to prevent this from happening as it has to do with the way the OGG file is being played. You will just have to rewind slightly further so that the position marker is moving at the right speed when it hits the note or beat you are trying to sync.<br><br>

<b>Problem:</b><br>
One or more key presses don't seem to work in EOF, even though they do in other programs.<br>
<b>Solution:</b><br>
We usually find that the key input is being intercepted by another program at a low enough level in the operating system that Allegro (which provides the input functionality for EOF) cannot read the key press.  For example, if your computer has the "Microsoft eHome Infrared Transceiver" driver installed, it could prevent EOF from reacting to the apostrophe (') or other keys.  Another example is Synergy, which is software to redirect your mouse and keyboard input between multiple computers.  The only real solution is to disable/terminate the conflicting software, or if you would prefer to do without it, uninstall it.<br><br>

<b>Problem:</b><br>
Notes are grid snapped at a small enough interval that they should play as HOPO notes in FoF/Phase Shift, but some of them do not register as HOPOs.<br>
<b>Solution:</b><br>
For notes that are not marked as forced HOPOs (forced HOPO phrases are presently only supported in Phase Shift), they must be close enough to each other.  If you place grid snapped notes and then later move a beat marker, the note will be allowed to move with the auto adjust feature, but the note's position may get rounded to the nearest millisecond, which could cause the note to be just barely too far away from the previous note to count as a HOPO when played in-game.  Most of the time, this timing difference is too small to see in the editor.  The best way to fix this is to select the notes, select a high grid snap value (such as 1/48, or use a high custom grid snap value) and use "Resnap" from the Note menu.  This will re-align the selected notes to the specified grid snap level positions and in normal cases should allow the notes to detect as HOPO if they are close enough (ie. 1/12 notes).  If your chart has notes that are not meant to be grid snapped, ie. a sloppily played guitar solo, make sure to not resnap those or they may lose their desired timing.<br><br>

<b>Problem:</b><br>
FoF/FoFiX/Magma does not work with the notes.mid file created by EOF.<br>
<b>Solution:</b><br>
FoF and FoFiX (all versions up to and including FoFiX 4.0 alpha 2, possibly future releases as well) have a bug where they do not correctly read MIDI files that have Sysex events.  These events are used to mark some specialized charting features such as pro guitar slides, open strum bass notes, slider notes, open hi hat, pedal controlled hi hat or sizzle hi hat.  If your chart uses any of these features, the notes.mid is likely going to not work in Frets on Fire until its developers make corrections to the game.  The workaround for this is to leave such features out of the chart if it will be used for FoF/FoFiX, or enable the "Save Separate RBN MIDI files" preference and use notes_rbn.mid (which you will need to rename to notes.mid) for FoF/FoFiX.  Likewise, Harmonix's Magma utility (used to create content for Rock Band Network) doesn't seem to accept Sysex events either.  However, the features that are being marked with Sysex are not compatible with Rock Band anyways, so the workaround is the same:  Use the notes_rbn.mid file for use with Rock Band.<br><br>

<b>Problem:</b><br>
EOF gives errors when trying to save a chart.<br>
<b>Solution:</b><br>
There are generally only a few reasons why this would happen:<br>
1.  Some of the files that have to be overwritten during save are open and locked for editing by some other program on your computer.  For example, if you have played the chart in FoF/FoFiX/Phase Shift, it's possible that they won't release control of some of the chart files until the game is exited.<br>
2.  You don't have write permission to the directory EOF was directed to save the chart into.  One common cause for this in Windows Vista and Windows 7 might be a Windows security feature called User Account Control.  This feature will restrict access to various parts of the file system, including the "Program Files" directory and its contents.  The best way to avoid this issue is to save some place your account will have unrestricted access, such as your Desktop, Documents folder, etc.<br>
3.  Some of the files/folders involved are marked as hidden or ready to archive.  Allegro seems to have some limitations where it cannot access files or folders with these attributes.  Changing the hidden/archive status of files/folders varies depending on the operating system, but in versions of Windows, it generally involves right clicking on files/folders, selecting Properties, unchecking the "Hidden" attribute and applying the change.  If you remove these attributes from a folder, Windows will offer to remove them from all subfiles and subfolders.<br><br>

<b>Problem:</b><br>
Accented characters are replaced with ^ during lyric import.<br>
<b>Solution:</b><br>
The lyric import code doesn't have special handling for some text file encodings when extended ASCII is in use, for example when the encoding is Windows 1252.  In order to get EOF to import the accented characters from lyrics that are in a text file (ie. UltraStar), open the lyric file in a text editor capable of allowing you to choose the encoding, such as EditPad Lite.  Change the encoding to UTF-8 and no Byte Order Marker (BOM) and save the file, preserving a copy of the original file if desired and try having EOF import the altered lyric file.<br><br>

<b>Problem:</b><br>
The mouse pointer is not working reliably in EOF even though it works normally in other programs.<br>
<b>Solution:</b><br>
Some higher end mice have really high movement resolution, and this doesn't seem to work well with the game library EOF uses (Allegro).  Try going into the mouse's configuration program (ie. for Logitech mice this would be the SetPoint utility, for Microsoft it may be the IntelliMouse utility) lowering the X and Y resolution to something like 400 DPI.<br><br>

<b>Problem:</b><br>
Certain features like adding leading silence or exporting lyrics aren't working when I run EOF in a virtual Windows environment using Parallels on a Mac computer.<br>
<b>Solution:</b><br>
Make sure EOF and your project files are on the Windows installation's file system and not your Mac file system.<br><br>

<b>Problem:</b><br>
In Windows 8, EOF takes up the full screen and the mouse doesn't work.<br>
<b>Solution:</b><br>
Windows 8 may be allowing EOF to set a window size larger than the current screen resolution instead of refusing it.  Try setting EOF's screen resolution back to the default (640x480) by using the keyboard controls.  If that can't be done, you can edit the eof.cfg file in EOF's program folder and delete the lines beginning with "display_mode" and "eof_screen_width" under the "[display]" section or simply delete/rename the entire eof.cfg file and EOF will revert to all default settings.
</BODY>
</HTML>
