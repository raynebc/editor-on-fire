<HTML>
<HEAD>
<TITLE>EOF Tutorial</TITLE>
<STYLE TYPE="text/css">
p {text-indent: 1cm}
</STYLE>
</head></STYLE>
</HEAD>
<BODY BGCOLOR="313131" TEXT="FFFFFF" LINK="FFFFFF" VLINK="FFFFFF" ALINK="FFFFFF" >

<center><IMG SRC="logo.png" ALT="Logo" BORDER=0 HSPACE=0 VSPACE=3><br><br></center>
<center>A song editor for "Frets On Fire"</center><br>

<h1><a name="tutorial">CREATING CUSTOM CHARTS FOR IMMERROCK</a></h1>
Immerrock (<a href="https://immerrock.com/">https://immerrock.com/</a>) is an Augmented Reality guitar game and learning tool for Meta Quest 3, Quest 3S and Quest Pro.  Like Rocksmith, it presents you with songs that have guitar tablature that scrolls toward you.  Unlike Rocksmith, the notes can scroll all the way up to your guitar.  The game is in early access, so as of yet it will not score your playing, but it is an immersive way to practice guitar.  The game has many guitar exercises for practicing scales, chords and classic songs.  Most importantly, it allows users to bring in their own custom songs, and there is an enormous wealth of those that have been made for rhythm games like Phase Shift, Clone Hero, Rock Band 3 and Rocksmith.  Immerrock also presents the ability to practice a song in sections and can even show suggested finger placements from the custom chart author with a virtual fretting hand.

<h1><a name="gettingstarted">GETTING STARTED WITH EOF</a></h1>
It's recommended to read through the main tutorial in EOF's Help menu to get a quick idea of EOF's basic use, and to skim through the manual if you're curious about what any of the menu functions do.  The Help>Keys function also lists various keyboard controls that you may find helpful.  Since EOF has been around for so long, there are also many written and video guides/tutorials on the Internet for how to use it.  I'll try to gloss over the process in this guide.  My recommendation for the base settings is to use Rex Mundi input method (File>Preferences>Preferences, bottom left corner of the options) which allow you to position the mouse with one hand, and toggle gems on/off at that timestamp by pressing number keys 1 through 6 with the other hand.  Also in the preferences, you can enable the "Inverted notes" option to have lane 1 (ie. low E string) be at the bottom of the piano roll instead of at the top, so that it is in the same string order as with guitar tablature.  I habitually use the lowest built-in EOF window size (File>Display>Display) of 640x480, but I also enable a Notes panel (File>Display>Notes Panel) to increase the width by another 50% so I can see more of the chart at a time.  You can use a higher resolution or define your own window size, but if EOF's performance suffers and starts lagging, you may get better results by enabling a small resolution and using the "File>Display>x2 zoom" option, which is a less computer-intensive way to get a larger view.  You can also use different monitor resolution sizes, scaling options or magnification options in your Operating System if you prefer, but that takes more effort in my experience.

<h1><a name="newproject">STARTING A NEW PROJECT</a></h1>
If you are going to import pro guitar content, please refer to these guides:<br>
For importing Rock Band 3, Phase Shift, Clone Hero or YARG format content:  [<a href="midi_import.htm">MIDI IMPORT GUIDE</a>]<br>
For importing Rocksmith format content:  [<a href="rocksmith_import.htm">ROCKSMITH IMPORT GUIDE</a>]<br>
For importing Guitar Pro format content:  [<a href="guitar_pro_import.htm">GUITAR PRO IMPORT GUIDE</a>]<br><br>

First, determine whether you are going to import an existing MIDI or Rocksmith chart.  If so, you can skip straight to the [<a href="midi_import.htm">MIDI IMPORT GUIDE</a>] or [<a href="rocksmith_import.htm">ROCKSMITH IMPORT GUIDE</a>] as those chart formats will already be synchronized to music, but it doesn't hurt to know how to evaluate and fix problems with the imported chart by following the steps described below.  If you plan to import a Guitar Pro file, EOF supports importing Guitar Pro timing created by the application Go PlayAlong (<a href="https://goplayalong.com/">https://goplayalong.com/</a>).  Before Guitar Pro provided a way for users to synchronize guitar tab to music, Go PlayAlong was available and was a reasonably popular option for people who preferred its synchronizing workflow over EOF's.  It has features to simplify/automate synchronizing the tablature and while it isn't very expensive, it does have a cost.  There is a trial version available so you can compare its workflow against EOF's.  The trial probably will not have a way to save the timing in a way you could import into EOF, but if you have the paid version and have exported the timing for the Guitar Pro tablature you would like to import into EOF, read the [<a href="guitar_pro_import.htm">GUITAR PRO IMPORT GUIDE</a>].  Otherwise, if you are creating a project from scratch or plan to import a Guitar Pro file after synchronizing the beats manually, continue reading.

<h1><a name="creating">CREATING AND BEAT SYNCING A PROJECT</a></h1>

EOF has a piano roll style of editing rhythm game charts that isn't very different from a traditional MIDI editor.  To create a chart from scratch, you need to have audio for the song you want to chart in OGG, WAV or MP3 format.  EOF will convert the given audio file into OGG format to use that internally as well as when exporting the audio for Immerrock later.  To create a new project, I suggest creating a new folder (designated as the "project folder") on your computer to keep the files separate from everything else.  Then put your audio file in the project folder.  In EOF, use File>New and browse for that audio file.  Then specify the artist name and song title and click OK.<br>
<center><IMG SRC="New_song.jpg" ALT="screen" BORDER=0 HSPACE=0 VSPACE=3><br><br></center>

Pick the option to use the source audio's folder for the location of the new song.  This will direct EOF to put the project file (notes.eof) in the project folder with the audio instead of creating a different folder.  Now you will have a default chart with a tempo of 120 BPM, which by tradition of the MIDI standard is the default tempo of any song until it specifies otherwise.  Each of the --> arrows above the piano roll represent a "beat marker", and as per the math of 120 BPM, they are 500ms (one half second) apart.  Press F5 to show a waveform graph of the song.  The spikes in the graph that you see in many modern songs are typically the drummer and you will want to synchronize the beat markers --> with the drums to get a chart that feels like it is well synchronized.<br>
<center><IMG SRC="Default_chart.jpg" ALT="screen" BORDER=0 HSPACE=0 VSPACE=3><br><br></center>

A typical strategy to begin with is to click and drag the first beat marker to line up with the first spike in the graph.<br>
<center><IMG SRC="First_sync.jpg" ALT="screen" BORDER=0 HSPACE=0 VSPACE=3><br><br></center>

You can use a touchpad if you're working on a laptop, but a mouse is recommended.  However if your mouse/touchpad isn't cooperating well enough to make very finely tuned adjustments here, you can open Song>Properties and manually edit the timestamp of the first beat marker in the Delay field at the bottom left.  This timing is in milliseconds, and this delay has a special meaning in many rhythm games in that it is an offset between the audio and the chart content itself.  For example with this chart, all of the notes will be defined in the final Immerrock MIDI file as relative to the first beat marker position.  In the case of this example chart, the chart's metadata will indicate that the defined notes are actually 396ms later than the MIDI file indicates.  Defining a separate delay allows a really quick and easy way to adjust the chart's sync with the audio.<br>
<center><IMG SRC="Chart_delay.jpg" ALT="screen" BORDER=0 HSPACE=0 VSPACE=3><br><br></center>

After the first beat marker is positioned, the best thing to do next is to set a good tempo on the first beat marker to match the general tempo of the song.  This will make the rest of the beats closer to the drummer and as a result, synchronizing the rest of the song will take less work.  You can look up the tempo online or use any tool you prefer.  EOF even has a built-in tool for this with "Beat>BPM>Estimate BPM", which uses the MiniBPM utility from breakfastquay (<a href="https://breakfastquay.com/minibpm/">https://breakfastquay.com/minibpm/</a>) to analyze the audio, guess the tempo and offer to set that tempo on the first beat.  In the case of this example, it suggested a tempo of 113.31BPM.  Your mileage may vary, but unless the song is electronically produced to have a perfectly steady beat, you're probably going to find that you need to adjust the tempo manually:<br>
<center><IMG SRC="Estimated_BPM.jpg" ALT="screen" BORDER=0 HSPACE=0 VSPACE=3><br><br></center>

There are different approaches you can take to get a good starting tempo, but my preferred method is as follows:<br><br>

Select a beat marker a few beats in and move it to the peak in the waveform graph it should line up with:<br>
<center><IMG SRC="Second_sync.jpg" ALT="screen" BORDER=0 HSPACE=0 VSPACE=3><br><br></center>

This turns the beat into an "anchor", which is a beat marker whose position is now set and won't be influenced by clicking and dragging beat markers that come before it (the only exception to this is the first beat marker which can always be moved because it is an offset for the whole project).  Visually, an anchor will always have a downward red arrow pointing at the piano roll instead of just a vertical line, even if it doesn't reflect a change in tempo.  You can see that the first beat marker's tempo was adjusted to make the beats short enough so that the anchor lines up with the position to which you dragged it.  Defining the position of beat markers to line up with music this way is traditionally known as "beat syncing".  The positions of the beat markers collectively is referred to as the "tempo map".  Since the goal is to make the first beat marker's tempo more accurate, you can delete the anchor of the beat you just moved with the "Beat>Delete anchor" function.<br>
<center><IMG SRC="Delete_second_sync.jpg" ALT="screen" BORDER=0 HSPACE=0 VSPACE=3><br><br></center>

You can now see that the anchor has been removed (no red downward arrow) and like all the other beats, it now has the same tempo as the last tempo change that occurs before it (the first beat marker), and the first beat marker's tempo has been made slightly more accurate.  Having seen how that process works, a shortcut way of doing this without having to repeatedly delete the anchor after moving the beat is to hold the CTRL button while you left click and drag a beat marker.  As long as there are no anchors after the beat you're dragging, it will adjust the previous anchor's tempo to reflect the position of the beat you are directly moving with the mouse.<br><br>

Then going a few seconds further in, repeat the process to synchronize a beat to a waveform graph spike that looks like it's close enough to be meant to be in sync with the song.<br>
<center><IMG SRC="Third_sync.jpg" ALT="screen" BORDER=0 HSPACE=0 VSPACE=3><br><br></center>

You can move throughout the song by clicking the seek bar below the piano roll, by holding the left/right arrow keys, by seeking a beat at a time by pressing or holding PgUp or PgDn, by seeking a screen at a time with CTRL+PgUp or CTRL+PgDn, by clicking on the playback controls in the top right corner of the EOF window, etc.  By the time I used this process on the first 30 seconds of the song, the first beat marker had trended toward 114.26BPM and you can see that at least the first screen-full of beat lines are reasonably close to the spikes in the graph:<br>
<center><IMG SRC="Delete_third_sync.jpg" ALT="screen" BORDER=0 HSPACE=0 VSPACE=3><br><br></center>

You can go further into the song if you want, but at a certain point it won't make the tempo much more accurate, and this is just meant to be a rough estimate of the tempo anyway.  Take this opportunity to save the project (File>Save).  EOF doesn't crash/hang often but it's good to save your work once in a while in case you accidentally break something with the chart.  EOF makes many undo states (which can be manually opened with File>Load if EOF does crash), but only one re-do state so you still need to be careful.  EOF will make a spare backup of the project ("...backup.eof.bak") every 10 edits to the chart (every ten actions that are undo-able), but this backup gets overwritten each time it's made.  Every time you save, the previous save of the project is saved as (...previous_save.eof.bak") but it is also overwritten by the last save of the project each time you save the project so unless you make spare copies of your project every so often, you can only revert by one file save.  The "Save" function will report on various issues and offer various suggestions to cancel the save and perform other steps, but if you don't want to deal with any such prompts you can always use "Quick Save" instead, which will save as-is with no prompts.<br><br>

Now that the first beat has a good starting tempo, you will work your way toward the end of the song aligning the beat markers to be reasonably in-time with the drummer, but this time you will keep the beats anchored to make the synchronizations permanent.  Clicking and dragging the beat marker is usually fine for minor sync corrections, although there are keyboard controls (see Help>Keys's description of the - and = shortcuts) which can be used to granularly manipulate the tempo of the nearest anchor at or before the seek position.  If a beat marker is already well lined-up with the drummer, you can make it an anchor (to ensure it stays synced and can't be moved out of place when you sync the rest of the chart) without even having to move it by selecting the beat and using "Beat>Anchor beat" (or press the A key).  For this reason, if one beat in the middle of several others is synced, make it an anchor before moving the other beats so you don't have to fix it again later.<br><br>

Looking at the waveform isn't enough, especially when other instruments in the song are loud enough to make it harder to see the drum part in the waveform.  Audibly test the sync of the beat map by enabling the metronome (Edit>Metronome, or press the M key) and playing back the chart in EOF (press Spacebar to play/pause or use the playback controls at the top right corner of the program).  The metronome ticks should sound like they play exactly on top of the drum beat as much as possible, only limited by how much time you're willing to spend beat syncing.  If the song is too loud compared to the metronome, you can use the volume sliders in "Song>Audio cues" to lower the chart volume and make sound cues like clap and metronome easier to hear.  If this isn't enough to help, you can try going into "File>Settings" and enabling the phase cancellation option (this uses noise cancellation to remove audio that is panned over the center of the audio channels which is often how the vocal stem is mixed in songs), or you can try enabling the center isolation option (basically the opposite of phase cancellation in that audio that isn't panned over the center of the audio is muted).  While listening to the metronome during playback, if a metronome tick for a beat sounds like it's coming too late compared to the drum beat in the song, move that beat a little earlier.  If the tick sounds like it comes too early, move the beat a little later.  It's normal that you only need to make small adjustments at a time, even in tens of milliseconds, because the waveform graph is typically a very good representation of the song's beat.  Continue syncing the chart. It's best to go from beginning to end as much as you can without going in reverse order, because an anchor later in the chart could make it more difficult to resync several beats that come before it.  Once you have roughly synced the song from start to finish, you can definitely go back and re-sync individual beat markers as you see fit if they stand out as being out of sync.  You don't have to go as far as synchronizing every single beat, but depending on how steady the drummer's playing is, that may be necessary for some parts of a song (especially around drum fills).  It's a common recommendation to sync a beat once per measure to keep the chart relatively well-timed.  You can zoom in and out with the + and - keys on the number pad.  If you want to see a larger amount of the waveform graph at a time, you can even use "Edit>Zoom>Custom" to zoom out more than the number pad - shortcut can by default (1/10).  Here's what 1/20 zoom level looks like for this chart:<br>
<center><IMG SRC="Zoomed_out.jpg" ALT="screen" BORDER=0 HSPACE=0 VSPACE=3><br><br></center>

EOF has lots of keyboard shortcuts (especially as summarized in Help>Keys), so having a full sized keyboard is helpful.  Make sure to save your work when you're done with the beat syncing.


<h1><a name="proguitar">ADDING PRO GUITAR CONTENT</a></h1>
For EOF's purposes, "pro guitar" references any set of features related to authoring real guitar or bass tablature for rhythm games, mostly for Rock Band (or similar rhythm games like Phase Shift, Clone Hero or YARG), Rocksmith and Immerrock.  Since the project is now beat-synced, you can either author the pro guitar notes manually or import content from an existing file.  EOF's [<a href="../proguitartutorial/index.htm">PRO GUITAR TUTORIAL</a>] was written in the Rock Band 3 era and covers the capabilities of manually authoring such content reasonably thoroughly and should cover most of the features you would need for Immerrock.  Alternatively, Rocksmith-centric guides (<a href="https://customsforge.com/">https://customsforge.com/</a> is the leading online resource on authoring charts for Rocksmith) can also show you how to author content, but some of Rocksmith's game mechanics need convoluted charting methods, so don't get too distracted by complicated requirements for Rocksmith if you're authoring for Immerrock.<br><br>

The tracks that are capable of containing pro guitar content are:<br>
PART REAL_BASS<br>
PART REAL_GUITAR<br>
PART REAL_BASS_22<br>
PART REAL_GUITAR_22<br>
PART REAL_GUITAR_BONUS<br>
The names for the first four of these originated from Rock Band 3, the first big rhythm game that supported real guitar content.  The fifth was created for the sake of authoring Rocksmith custom songs, since the second game in the Rocksmith series (Rocksmith 2014, often referred to in EOF as “RS2” or “Rocksmith 2”) added the ability to have 5 arrangements per chart.<br><br>

Keep in mind that by default, new projects in EOF will set a default fret limit of 24 for all pro guitar and bass tracks, but this limit is lowered depending on whether your “File>Preferences>Import/Export” options have enabled the ability to save songs in Rocksmith 1, Rocksmith 2 or Rock Band 3 format (because these games each have different limitations for the number of frets an arrangement can have).  Make sure to use the “Track>Pro Guitar>Set number of frets/strings” to make sure the fret limit is high enough for each track in your project that you will add content to, and use “Track>Pro Guitar>Set Tuning” to define the tuning if it isn’t in E standard.  What the default tuning actually is for a track depends on whether a track is configured as a bass arrangement (“Track>Rocksmith>Arrangement type”) or otherwise, and how many strings the track is specified to use.  PART REAL_BASS and PART_REAL_BASS_22 will be configured as 4 string bass arrangements by default, and the other pro guitar tracks as 6 string guitar arrangements of “undefined” type.

</BODY>
</HTML>